{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Danh sách khóa học" %} — {{ C.SITE.NAME }}{% endblock %}

{% block content %}
<div class="d-flex align-items-end justify-content-between mb-3">
  <h1 class="h3 mb-0">{% trans "KHÓA HỌC NỔI BẬT" %}</h1>
  <form class="d-flex gap-2" method="get">
    <input class="form-control form-control-sm"
           name="q"
           value="{{ request.GET.q }}"
           placeholder="{% trans 'Tìm khóa học...' %}" />
    <select class="form-select form-select-sm" name="sort">
      <option value="">{% trans "Sắp xếp" %}</option>
      <option value="popular" {% if request.GET.sort == 'popular' %}selected{% endif %}>{% trans "Phổ biến" %}</option>
      <option value="new" {% if request.GET.sort == 'new' %}selected{% endif %}>{% trans "Mới nhất" %}</option>
      <option value="rating" {% if request.GET.sort == 'rating' %}selected{% endif %}>{% trans "Đánh giá cao" %}</option>
    </select>
    <button class="btn btn-outline-secondary btn-sm">{% trans "Lọc" %}</button>
  </form>
</div>

<div class="row g-3">
  {% for course in page_obj.object_list %}
    <div class="col-12 col-sm-6 col-lg-3">
      {% include "courses/_course_card.html" with course=course %}
    </div>
  {% empty %}
    <div class="col-12"><p class="text-muted">{% trans "Không tìm thấy khóa học." %}</p></div>
  {% endfor %}
</div>

<div class="mt-4">
  {% include "components/_pagination.html" %}
</div>
{% endblock %}

{% block extra_js %}
  <script src="{% static 'courses/js/course_list.js' %}"></script>
{% endblock %}
